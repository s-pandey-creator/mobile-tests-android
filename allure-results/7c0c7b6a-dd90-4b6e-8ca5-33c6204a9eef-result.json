{"name": "test_add_to_cart", "status": "broken", "statusDetails": {"message": "RuntimeError: All attempts to create Remote driver failed. Last: TypeError(\"WebDriver.__init__() got an unexpected keyword argument 'desired_capabilities'\")", "trace": "request = <SubRequest 'driver' for <Function test_add_to_cart>>\n\n    @pytest.fixture(scope=\"function\")\n    def driver(request):\n        platform = os.getenv(\"TEST_PLATFORM\", \"android\").lower()\n        if platform == \"ios\":\n            drv = _create_ios_driver(\n                device_name=os.getenv(\"IOS_DEVICE_NAME\", \"iPhone 15 Pro\"),\n                platform_version=os.getenv(\"IOS_PLATFORM_VERSION\", \"17.0\"),\n                app_id=os.getenv(\"IOS_APP_ID\")\n            )\n        elif platform == \"android\":\n>           drv = _create_android_driver(\n                device_name=os.getenv(\"ANDROID_DEVICE_NAME\", \"Google Pixel 7\"),\n                platform_version=os.getenv(\"ANDROID_PLATFORM_VERSION\", \"13.0\"),\n                app_id=os.getenv(\"ANDROID_APP_ID\")\n            )\n\nconftest.py:194: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nconftest.py:181: in _create_android_driver\n    return _try_create_remote(\"https://hub.browserstack.com/wd/hub\", caps)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nurl = 'https://hub.browserstack.com/wd/hub'\ncaps = {'app': 'bs://<your_android_app_id_here>', 'automationName': 'UiAutomator2', 'bstack:options': {'accessKey': 'JpQKHk3E...roid-build', 'projectName': 'mobile-demo', 'sessionName': 'Android session', ...}, 'deviceName': 'Google Pixel 7', ...}\n\n    def _try_create_remote(url, caps):\n        attempts = []\n        last_exc = None\n    \n        # 1) Try old appium webdriver.Remote with desired_capabilities kw\n        try:\n            from appium import webdriver as _app_wd  # type: ignore\n            drv = _app_wd.Remote(url, desired_capabilities=caps)\n            print(\"SUCCESS (old appium Remote with desired_capabilities)\")\n            return drv\n        except Exception as e:\n            attempts.append((\"appium_desired_capabilities\", traceback.format_exc()))\n            last_exc = e\n    \n        # 2) Try appium webdriver.Remote positional caps\n        try:\n            from appium import webdriver as _app_wd  # type: ignore\n            drv = _app_wd.Remote(url, caps)\n            print(\"SUCCESS (appium Remote positional caps)\")\n            return drv\n        except Exception as e:\n            attempts.append((\"appium_positional_caps\", traceback.format_exc()))\n            last_exc = e\n    \n        # 3) Try auth-in-url with desired_capabilities\n        try:\n            from appium import webdriver as _app_wd  # type: ignore\n            auth_url = f\"https://{BS_USER}:{BS_KEY}@hub.browserstack.com/wd/hub\"\n            drv = _app_wd.Remote(auth_url, desired_capabilities=caps)\n            print(\"SUCCESS (auth-url appium Remote)\")\n            return drv\n        except Exception as e:\n            attempts.append((\"appium_auth_in_url\", traceback.format_exc()))\n            last_exc = e\n    \n        # 4) Try selenium webdriver.Remote if available\n        if selenium_webdriver is not None:\n            try:\n                drv = selenium_webdriver.Remote(command_executor=url, desired_capabilities=caps)\n                print(\"SUCCESS (selenium.webdriver.Remote)\")\n                return drv\n            except Exception as e:\n                attempts.append((\"selenium_remote\", traceback.format_exc()))\n                last_exc = e\n    \n        # Print all attempts and raise a composite error\n        print(\"\\n--- All Remote creation attempts and tracebacks ---\")\n        for name, tb in attempts:\n            print(f\"--- Attempt: {name} ---\")\n            print(tb)\n>       raise RuntimeError(f\"All attempts to create Remote driver failed. Last: {repr(last_exc)}\")\nE       RuntimeError: All attempts to create Remote driver failed. Last: TypeError(\"WebDriver.__init__() got an unexpected keyword argument 'desired_capabilities'\")\n\nconftest.py:153: RuntimeError"}, "start": 1757913909408, "stop": 1757913909408, "uuid": "07fbd16f-8e5d-4b23-9bd0-e4a374a48c6e", "historyId": "f53930c71791373588d426a984620050", "testCaseId": "f53930c71791373588d426a984620050", "fullName": "tests.test_cart#test_add_to_cart", "labels": [{"name": "tag", "value": "smoke"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_cart"}, {"name": "host", "value": "DB-L-174"}, {"name": "thread", "value": "18236-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_cart"}], "titlePath": ["tests", "test_cart.py"]}